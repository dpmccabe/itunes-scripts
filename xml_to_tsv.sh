cat ~/Music/iTunes\ Library.xml | /usr/local/bin/gawk 'match($0, /<key>(Track ID|Total Time|Track Number|Rating|Genre|Play Count|Play Date UTC|Grouping)<\/key><(string|integer|date)>(.+)<\/(string|integer|date)>/, m) { print m[1]":="m[3]; }' | /usr/local/bin/gawk --re-interval '{ gsub( "\n", "\t" ); printf $0 RT } END { print }' RS='\nTrack ID:=[0-9]+' | /usr/local/bin/gawk 'gsub(/\tTrack ID/, "\nTrack ID")1 && match($0, /\tRating:=(60|80|100)\t/) && gsub(/\t$/, "")1' > ~/Music/starred.txt
